<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>svg donut</title>
  <script type="text/javascript" src="./js/library/jquery-1.12.1.min.js"></script>
  <style>
    /* transform : 시작점을 12시 방향  */
    .donut-box { width: 30%; margin: 0 auto; transform: rotate(-90deg)}
  </style>
</head>
<body>
 
  <div class="donut-box" data-percent="80">
    <svg width="100%" height="100%" viewBox="0 0 42 42" class="donut">
      <circle class="donut-hole"    cx="21" cy="21" r="15.91549430918954" fill="#fff"></circle>
      <circle class="donut-ring"    cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#d2d3d4" stroke-width="3"></circle>
      <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#ce4b99" stroke-width="3" stroke-dasharray="0 100" stroke-dashoffset="0"></circle>
    </svg>
  </div>
  <div class="output">0</div>
  <script>
    
    /* SVG 도넛 모션, 텍스트 카운트 */
    $(".donut-box").prop('Counter',0).animate({
      Counter: $(".donut-box").attr("data-percent") 
    }, {
      duration: 1000,
      easing: 'swing',
      step: function (now) {
        var per     = Math.ceil(now);
        var reper   = Math.ceil( 100 - now );
        $(".output").text( per +" "+reper );
        $(".donut-segment", this).attr("stroke-dasharray", per +" "+reper)
      }
    });
    
    /* 
    * per_reperFN : 소수점 날린 퍼센티지 계산
    */
    function per_reperFN( $now ){
      var per     = Math.ceil($now);
      var reper   = Math.ceil( 100 - $now );
      $(".output").text( per +" "+reper );
      $(".donut-box .donut-segment").attr("stroke-dasharray", per +" "+reper)
    }
    setTimeout(function(){ per_reperFN(60) }, 3000);
        
  </script>


</body>
</html>