<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>trpSelectedItem</title>
  <script type="text/javascript" src="./js/library/jquery-1.12.1.min.js"></script>
  <script type="text/javascript" src="./js/library/library-trpSelectedItem.js"></script>
  <link   rel="stylesheet"      href="./css/library-trpSelectedItem.css">
</head>
<body>
  
<div id="layout-wrapper">
  <style>
    table {border: 1px solid #ccc; width: 100%;}
    table th, table td {padding: 10px; border: 1px solid #ccc;}
    table th { background-color: #ddd; width: 30%;}
  </style>
  
  <table style="border: 1px solid #ccc;">
    <thead>
      <tr>
        <th colspan="2">trpSelectedItem 선언 방법</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>$($conId).trpSelectedItem($fn(idArr, $itemArr))</th>
        <td>
          <strong>$conId</strong> : container id <br>
          <strong>$idArr</strong>   : 선택된 아이템 ID <br>
          <strong>$itemArr</strong> : 선택된 아이템 tag
        </td>
      </tr>
    </tbody>
  </table>
  <br>
  
  <table>
    <thead>
      <tr>
        <th colspan="2">trpSelectedItem Method</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>setListActive($arr, $conId)</th>
        <td>
          선택항목 배열넘기면 선택됨 <br>
          <strong>$arr</strong>   : item id array <br>
          <strong>$conId</strong> : 자동 생성된 "data-con_id" 고유값
        </td>
      </tr>
      <tr>
        <th>setListReset($conId)</th>
        <td>
          선택된 항목 초기화 <br>
          <strong>빈 값</strong> : 플러그인 선택자 (js-selected_item-area) <br>
          <strong>$conId</strong> : 자동 생성된 "data-con_id" 고유값
        </td>
      </tr>
      <tr>
        <th>getAllIdArr()</th>
        <td>모든 아이템 항목 ID</td>
      </tr>
      <tr>
        <th>getIdArr()</th>
        <td>선택 아이템 항목 ID</td>
      </tr>
      <tr>
        <th>getItemArr()</th>
        <td>선택 아이템 항목 tag</td>
      </tr>
    </tbody>
  </table>

  <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
  <h4>------수정 완요-------</h4>
  <button class="" onclick=" selected_item1.setListActive()" >모두선택</button>
  <button class="" onclick=" selected_item1.setListReset()" >모두 선택해제</button>
  <br><br>
  <button class="js-select_setAll">선택 trpSelectedItem + search</button>
  <button class="js-select_resetAll">선택해제 trpSelectedItem + search</button>


  
  <h3>trpSelectedItem</h3>
  <div class="selected_item-area js-selected_item-area" data-wrap_id = "select_id" style="width: 50%;">
    <div class="selected_item_complete js-selected_item_complete">
      <div class="complete-inner">

        <!-- 
          <div class="complete-item">기획데이터팀 1<button type="button" class="complete-btn js-complete_item-del">Remove item</button></div> 
        -->

      </div>
    </div>
    <div class="selected_item_target js-selected_item_target" data-trp-focusid="js-user_support">
      <div class="target-inner scroll-type">
        <ul class="org">
        </ul>
        <p class="data-empty">No choices to choose from</p>
      </div>
    </div>
  </div>  

  <br>

  <h3>trpSelectedItem + search</h3>
  <div class="selected_item-area js-selected_item-area"  data-wrap_id = "select_id" style="width: 50%;">
    <div class="selected_item_complete js-selected_item_complete">
      <div class="complete-inner">

        <!-- 
          <div class="complete-item">기획데이터팀 1<button type="button" class="complete-btn js-complete_item-del">Remove item</button></div> 
        -->

      </div>
    </div>
    <div class="selected_item_target js-selected_item_target" data-trp-focusid="js-user_support">
      <div class="search-box">
        <input class="form-control js-selected_item_search" type="text" placeholder="광고계정 ID 또는 광고계정명 입력">
      </div>
      <div class="target-inner scroll-type">
        <ul class="org">
        </ul>
        <p class="data-empty">No choices to choose from</p>
      </div>
    </div>
  </div>  
  <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

</div>

  <script>
    var obj = [
      { "id": "1", "name":"디엠씨미디어"},
      { "id": "2", "name":"캐러트코리아"},
      { "id": "3", "name":"대행사A"},
      { "id": "4", "name":"대행사B"},
      { "id": "5", "name":"대행사C"},
      { "id": "6", "name":"대행사D"},
      { "id": "7", "name":"대행사dd"},
      { "id": "8", "name":"대행사DdD"},
      { "id": "9", "name":"대행사E"},
      { "id": "10", "name":"더블유컴즈"},
      { "id": "11", "name":"대행사F"}
    ]
    function tagListSetFN($append, $obj){
      var _arr = []
      $obj.forEach(function($item, $index){
        _arr.push('<li data-id="'+ $item.id +'" data-mix=" i_' + $item.id +'" ><span>'+ $item.name +'</span></li>')
      });
      $($append).append(_arr);
    }
    tagListSetFN(".js-selected_item-area .js-selected_item_target ul.org", obj);



    /* trpSelectedItem( $fn );
    *  @param	$fn($arr : array , $selectArr : array)  : function      | (선택ID :array, 선택 li 선택자 : array)
    *  @method setListActive($arr, $conId)	 : none                   | (활성 아이템 ID :array, $conId :자동생성된 "data-con_id" 고유값
    *  @method setListReset()	               : none                   | 선택 해제
    *  @method getIdArr()	                   : Array                  | 선택ID 
    *  @method getItemArr()	                 : Array                  | 선택Item
    */
    var selected_item1 = $(".js-selected_item-area").trpSelectedItem(function($idArr, $itemArr){
      
      console.log("select_id", $idArr);

      // $itemArr.forEach(function($item){
      //   console.log("select_id.data-mix",  $($item).attr("data-mix"));
      // })

      console.log("IdArr",   selected_item1.getIdArr()   );
      console.log("ItemArr", selected_item1.getItemArr() );
      
    });





    /* 모두선택, 모두 해제 */
    $(".js-select_setAll").on("click", function(e){
      selected_item1.setListActive([3,4,6], "conid-select_id-1" );
    });
    $(".js-select_resetAll").on("click", function(e){
      selected_item1.setListReset("conid-select_id-1");
    });

    console.log("getAllIdArr >>>> : ",   selected_item1.getAllIdArr("")   );
  </script>

</body>
</html>